<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dimavez Solution</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

</head>
<body >
    <div class="contenedor">
        <nav style="z-index: 999;">
            <ul>
                
                <div class="menu">
                   
                   <a href="#section2"><img src="imagenes/Sec. 1 - Boton Home.png"  alt=""></a> 
                    <a href="#"><img src="imagenes/Sec. 1 - Boton telefono 2.png" alt=""></a>
                    <a href="#section3"></a><img src="imagenes/Sec. 1 - Boton Ubicacion 3.png"  alt="">
                    <div class="centerLogo" style="text-align: center;">
                        <a href="#section4"><img src="imagenes/Sec. 1 - Boton about us 2.png" alt=""></a>
                    </div>
                    <img src="./imagenes/logoEmpresa2.png" alt="" style="width: 200px; height: auto; z-index: 1000;">
                    
                    <p style="font-family: Yu Gothic; font-size: 50px;">DIMAVEZ SOLUTION LLC</p>
                    <p style="font-family: Yu Gothic; font-size: xx-large;">COMMERCIAL & RESIDENTIAL CLEANING</p>
                </div>
            </ul>
        </nav>
        <br><br><br><br><br><br><br><br><br> 
          
        <div class="segunda" id="section2" >
            <img src="imagenes/Sec. 1 - Logo Sim 5 - Negro.png" alt="">
            <p style="margin-left: 5%; font-size: 75px;">DIMAVEZ SOLUTION</p>
            <p style="font-size: 40px; margin-left: 1%;">COMMERCIAL & RESIDENTIAL CLEANING</p>
            
        </div>
        <br><br><br><br><br><br><br><br>
    
        <div class="tercero">
            <p>SAINT PAUL & MINNEAPOLIS</p>
            <p>COMMERCIAL RESIDENTIAL</p>
            <p>CLEANING</p>
            <p>SUBCONTRACT</p>
    
        </div>
        <br><br><br><br>

        <div class="cuarto" id="section4">
            <p>SERVICES</p><br>
            <img src="imagenes/Sec. 4 - Boton Services.png" alt="">
            <br>

        </div>

        <div class="cuartoIzq" >
            <p >Cuarta parte </p><br>
            
        </div>
        <div class="quinto">
            <p>REVIEWS / FAQ'S</p><br>
            <img src="imagenes/Sec. 5 - Boton Reviews.png" alt=""><br>
            <p style="margin: 0 0 0 2%; text-align: left; font-size: 40px;">Our grown in this 2 years...</p><br><br><br>
            <div class="carrousel" style="margin-top: auto; z-index: 1;">
                <div class="conteCarrousel" style="z-index: 1;">
                    <div class="itemCarrousel" id="itemCarrousel-1" style="z-index: 1;">
                        <div class="itemCarrouselTarjeta">
                            <img id="imagenCarrusel1" src="imagenes/baño.jpg" alt="">
                            <p class="parrafoCarrousel" ></p>
                        </div>
                        
                    </div>
                    <div class="itemCarrousel" id="itemCarrousel-2" style="z-index: 1;">
                        <div class="itemCarrouselTarjeta">
                            <img id="imagenCarrusel2" src="imagenes/casa.jpg" alt="">
                            <p class="parrafoCarrousel"  ></p>
                        </div>
                        
                    </div>
                    <div class="itemCarrousel" id="itemCarrousel-3" style="z-index: 1;">
                        <div class="itemCarrouselTarjeta">
                            <img id="imagenCarrusel3" src="imagenes/establecimiento.jpg" alt="">
                            <p class="parrafoCarrousel"  ></p>
                        </div>
                       
                    </div>
                </div>
        
            </div>

        </div>
        <script>
            function cambiarContenido(nuevoParrafo, nuevaImagen) {
                document.querySelector('.parrafoCarrousel').textContent = nuevoParrafo;
                document.getElementById('imagenCarrusel1').src = 'imagenes/' + nuevaImagen;
            }
        
            function cambiarAutomaticamente() {
                const parrafo1= ' '
                const parrafo2 = ' '
                const parrafo3 = ' '
                const contenidos = [
                    { parrafo: parrafo1, imagen: 'baño.jpg' },
                    { parrafo: parrafo2, imagen: 'casa.jpg' },
                    { parrafo: parrafo3, imagen: 'establecimiento.jpg' }
                ];
        
                let indice = 0;
        
                setInterval(function () {
                    cambiarContenido(contenidos[indice].parrafo, contenidos[indice].imagen);
                    indice = (indice + 1) % contenidos.length;
                }, 5000);
            }
            window.onload = cambiarAutomaticamente;
        </script>
        <br><br><br>
            <div id="contenedor">
                <button onclick="abrirVentana()">WRITE A REVIEWS</button>
            </div>
        
            <script>
                function abrirVentana() {
                    var nuevaVentana = window.open('https://www.google.com/maps/place/Brooklyn+Center,+Minnesota+55443,+EE.+UU./@45.1231095,-93.3578993,13z/data=!4m6!3m5!1s0x52b33a14cb074d2f:0xfb37e697bceebf3f!8m2!3d45.1243266!4d-93.3337208!16s%2Fm%2F01_y467?entry=ttu', '_blank');
                    // Puedes agregar opciones adicionales para personalizar la apariencia de la nueva ventana aquí
                }
            </script>
            
            
        </div><br><br>
        <div class="sexta" id="secction6">
            <p>LOCATIONS</p><br><br>
        </div>
        <div class="formulary" >
            <br>
            <h1>Cleaning Service Request</h1>
            <br>
    <div class="principal-formulary" id="myForm" style="display: flex; justify-content: space-between; align-items: flex-start;">
        <form id="contactForm" method="post" style="z-index: 1;">
            <ul>
                <li>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </li>
                <br>
                <li>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </li>
                <br>
                <li>
                    <label for="phone">Phone:</label>
                    <input type="tel" id="phone" name="phone" required>
                </li>
                <br>
                <li>
                    <label for="cleaningType">Cleaning Type:</label>
                    <br>
                    <select id="cleaningType" name="cleaningType" required>
                        <option value="deepCleaning">Deep Cleaning</option>
                        <option value="moveInOut">Move In/Move Out</option>
                        <option value="basicCleaning">Basic Cleaning</option>
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="biWeekly">Bi-Weekly</option>
                        <option value="monthly">Monthly</option>
                    </select>
                </li>
                <br>
                <li>
                    <label for="placeType">Place Type:</label>
                    <br>
                    <select id="placeType" name="placeType" required>
                        <option value="home">Home</option>
                        <option value="smallStablishment">Small Establishment</option>
                        <option value="bigStablishment">Big Establishment</option>
                        <option value="garden">Garden</option>
                        <option value="park">Park</option>
                        <option value="other">Other</option>
                    </select>
                    <li id="otherType" style="display: none;">
                        <label for="otherPlaceType">Specify Other:</label>
                        <input type="text" id="otherPlaceType" name="otherPlace">
                    </li>
                </li>
                <br>
                <li>
                    <button type="button" onclick="enviarFormulario()" >Submit Request</button>
                    <input type="hidden" name="_next" value="divames-solution.com">
                </li>
            </ul>
        </form>

        <script>
            function enviarFormulario(){
                var formData = new FormData(document.getElementById('contactForm'));
                fetch('https://formspree.io/f/mdoqelqy',{
                    method: 'POST',
                    body: formData
                }).then(response =>{
                    if(! response){
                        throw new Error('Error at the moment to send the formulary')
                    }else{
                        const res = response.text()
                        return{
                            res
                        }
                    }
                }).then( data =>{
                    console.log("Code 200, the email was send ",data)
                })
            }

        </script>

            <div class="image-container" >
                <ul style="background-color: white;">
                        <img src="./imagenes/Servicios-Commercial-cleaning.jpg" alt="Servicios-Commercial-cleaning" style="height: 300px; width: auto;">
                        <img src="./imagenes/Servicios-Deep-cleaning.jpg" alt="Servicios-Deep-cleaning"style="height: 300px; width: auto;">
                        <img src="./imagenes/Servicios-Move-in-out-cleaning.jpg" alt="Servicios-Move-in-out-cleaning" style="height: 300px; width: auto;">
                        <img src="./imagenes/Servicios-Residential-cleaning.jpg" alt="Servicios-Residential-cleaning" style="height: 300px; width: auto;">
                    
                </ul>
            </div>

            
        </div>

        <!-- Aquí empieza el "Déjanos un comentario"-->
        <div class="comments" id="comentario" style="display: flex; justify-content: space-between; align-items: flex-start;">
            <form id="commentForm">
                <br>
                <h2>Let us know your experience with us</h2>
                <br>
                <label for="author">Author:</label><br>
                <input type="text" id="author" name="author" required><br>
                <label for="comment">Comment:</label><br>
                <textarea id="comment" name="comment" rows="4" cols="50" required></textarea><br>
                <button type="submit" id="submitButton">Submit Comment</button>
            </form>
        </div>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
        <script>
            document.getElementById('commentForm').addEventListener('submit', function(event) {
                event.preventDefault(); // Evita que el formulario se envíe automáticamente
        
                // Obtén los datos del formulario
                var author = document.getElementById('author').value;
                var comment = document.getElementById('comment').value;
                var timestamp = moment().format();
        
                // Llama a la función para agregar el comentario
                agregarComentario(author, comment, timestamp);
        
                // Envía el formulario por correo electrónico
                enviarCorreo(author, comment);
            });
        
            /*function agregarComentario(author, comment, timestamp) {
                function agregarComentario(author, message, date) {
            // Obtén el contenido actual del archivo JSON
            var xhr = new XMLHttpRequest();
            xhr.open('GET', './lib/comments.json', true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    // Parsea el contenido del archivo JSON
                    var data = JSON.parse(xhr.responseText);
                    
                    // Agrega el nuevo comentario al array de comentarios
                    data.comments.push({
                        author: author,
                        message: message,
                        date: date
                    });

                    // Convierte los datos actualizados de nuevo a formato JSON
                    var newData = JSON.stringify(data);

                    // Envía una solicitud PUT para guardar los comentarios actualizados en el archivo JSON
                    var xhr2 = new XMLHttpRequest();
                    xhr2.open('PUT', './lib/comments.json', true);
                    xhr2.setRequestHeader('Content-Type', 'application/json');
                    xhr2.onreadystatechange = function () {
                        if (xhr2.readyState == 4 && xhr2.status == 200) {
                            console.log('Comentario guardado con éxito');
                        } else if (xhr2.readyState == 4 && xhr2.status != 200) {
                            console.error('Error al guardar el comentario:', xhr2.status);
                        }
                    };
                    xhr2.send(newData);
                }
            };
            xhr.send();
        }

                        console.log('Nuevo comentario:');
                        console.log('Author:', author);
                        console.log('Comment:', comment);
                        console.log('Timestamp:', timestamp);
                    }*/
                
                    function enviarCorreo(author, comment) {
                        // Datos del formulario para enviar por correo a Formspree
                        var formData = new FormData();
                        formData.append('author', author);
                        formData.append('comment', comment);
                
                        // Realiza una solicitud POST a Formspree para enviar el formulario por correo electrónico
                        fetch('https://formspree.io/f/mdoqelqy', {
                            method: 'POST',
                            body: formData,
                            headers: {
                                'Accept': 'application/json'
                            }
                        })
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Error al enviar el formulario');
                            }
                            console.log('Formulario enviado con éxito');
                            // Aquí podrías mostrar un mensaje de éxito al usuario si lo deseas
                        })
                        .catch(error => {
                            console.error('Error al enviar el formulario:', error);
                            // Maneja el error de alguna manera (por ejemplo, muestra un mensaje al usuario)
                        });
                    }
        </script>
        
            </div>
        <div>
            <ul>
                <li style="float: right; background: white; border-radius: 100%; justify-content: space-around;"><a href="#" class="fa-brands fa-twitter"></a></li>
                <li style="float: right; background: white; border-radius: 100%; justify-content: space-around" ><a href="#" class="fa-brands fa-facebook"></a></li>
                <p style="font-family: 'Yu Gothic', sans-serif; src: local('Yu Gothic Medium'); color:black;">Contact us: email@example.com</p>
                
            </ul>            
        </div>
        <!--Developed by Angel López & Julio Haro From México-->
</body>
</html>